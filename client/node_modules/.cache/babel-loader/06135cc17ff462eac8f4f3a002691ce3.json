{"ast":null,"code":"var _jsxFileName = \"/Users/jppolanco/General_Assembly/sei/apollo/unit_3/products-full-stack/client/src/components/Products.jsx\";\nimport React, { Component } from 'react';\nimport './Products.css';\nimport Product from './Product';\nimport Search from './Search';\nimport { AZ, ZA, lowestFirst, highestFirst } from \"./Sort\";\nimport Layout from './shared/Layout';\nimport { getProducts } from '../services/products';\n\nclass Products extends Component {\n  constructor() {\n    super();\n\n    this.handleSearchChange = event => {\n      const filter = () => {\n        const filteredProducts = this.state.products.filter(product => {\n          return product.name.toLowerCase().includes(this.state.filterValue.toLowerCase());\n        });\n        this.setState({\n          filteredProducts\n        });\n      };\n\n      this.setState({\n        filterValue: event.target.value\n      }, filter);\n    };\n\n    this.handleSortChange = event => {\n      this.setState({\n        selectValue: event.target.value\n      });\n      let input = event.target.value; // a-z\n\n      const {\n        products\n      } = this.state;\n\n      switch (input) {\n        case \"name-ascending\":\n          this.setState({\n            products: AZ(products)\n          });\n          break;\n\n        case \"name-descending\":\n          this.setState({\n            products: ZA(products)\n          });\n          break;\n\n        case \"price-ascending\":\n          this.setState({\n            products: lowestFirst(products)\n          });\n          break;\n\n        case \"price-descending\":\n          this.setState({\n            products: highestFirst(products)\n          });\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.handleSubmit = event => event.preventDefault();\n\n    this.state = {\n      products: [],\n      filterValue: '',\n      filteredProducts: null,\n      selectValue: 'Featured'\n    };\n  }\n\n  async componentDidMount() {\n    const products = await getProducts();\n    this.setState({\n      products\n    });\n  }\n\n  render() {\n    const products = this.state.filteredProducts ? this.state.filteredProducts : this.state.products;\n    const PRODUCTS = products.map((product, index) => /*#__PURE__*/React.createElement(Product, {\n      _id: product._id,\n      name: product.name,\n      imgURL: product.imgURL,\n      price: product.price,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }));\n    return /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Search, {\n      onSubmit: this.handleSubmit,\n      value: this.state.filterValue,\n      onChange: this.handleSearchChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"sort-container\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"sort\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, \"SORT BY:\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"sort\",\n      value: this.state.selectValue,\n      onChange: this.handleSortChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      className: \"option\",\n      value: \"name-ascending\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, \"\\xA0 Alphabetically, A-Z \\xA0\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"name-descending\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, \"\\xA0 Alphabetically, Z-A \\xA0\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"price-ascending\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, \"\\xA0 Price, low to high \\xA0\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"price-descending\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, \"\\xA0 Price, high to low \\xA0\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, PRODUCTS));\n  }\n\n}\n\nexport default Products;","map":{"version":3,"sources":["/Users/jppolanco/General_Assembly/sei/apollo/unit_3/products-full-stack/client/src/components/Products.jsx"],"names":["React","Component","Product","Search","AZ","ZA","lowestFirst","highestFirst","Layout","getProducts","Products","constructor","handleSearchChange","event","filter","filteredProducts","state","products","product","name","toLowerCase","includes","filterValue","setState","target","value","handleSortChange","selectValue","input","handleSubmit","preventDefault","componentDidMount","render","PRODUCTS","map","index","_id","imgURL","price"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './Products.css'\nimport Product from './Product'\nimport Search from './Search'\nimport { AZ, ZA, lowestFirst, highestFirst } from \"./Sort\"\nimport Layout from './shared/Layout'\nimport { getProducts } from '../services/products'\n\nclass Products extends Component {\n  constructor() {\n    super()\n    this.state = {\n      products: [],\n      filterValue: '',\n      filteredProducts: null,\n      selectValue: 'Featured'\n    }\n  }\n\n  async componentDidMount() {\n    const products = await getProducts()\n    this.setState({ products })\n  }\n\n  handleSearchChange = event => {\n    const filter = () => {\n      const filteredProducts = this.state.products.filter(product => {\n        return product.name.toLowerCase().includes(this.state.filterValue.toLowerCase())\n      })\n      this.setState({ filteredProducts })\n    }\n    this.setState({ filterValue: event.target.value }, filter)\n  }\n\n  handleSortChange = event => {\n    this.setState({ selectValue: event.target.value });\n    let input = event.target.value; // a-z\n    const { products } = this.state;\n    switch (input) {\n      case \"name-ascending\":\n        this.setState({\n          products: AZ(products)\n        });\n        break;\n      case \"name-descending\":\n        this.setState({\n          products: ZA(products)\n        });\n        break;\n      case \"price-ascending\":\n        this.setState({\n          products: lowestFirst(products)\n        });\n        break;\n      case \"price-descending\":\n        this.setState({\n          products: highestFirst(products)\n        });\n        break;\n      default:\n        break\n    }\n  }\n\n  handleSubmit = event => event.preventDefault()\n\n  render() {\n    const products = this.state.filteredProducts ? this.state.filteredProducts : this.state.products\n    const PRODUCTS = products.map((product, index) =>\n      <Product _id={product._id} name={product.name} imgURL={product.imgURL} price={product.price} key={index} />\n    )\n\n    return (\n      <Layout>\n        <Search onSubmit={this.handleSubmit} value={this.state.filterValue} onChange={this.handleSearchChange} />\n        <form className=\"sort-container\" onSubmit={this.handleSubmit}>\n          <label htmlFor=\"sort\">SORT BY:</label>\n          <select className=\"sort\" value={this.state.selectValue} onChange={this.handleSortChange}>\n            <option className=\"option\" value=\"name-ascending\" >&nbsp; Alphabetically, A-Z &nbsp;</option>\n            <option value=\"name-descending\">&nbsp; Alphabetically, Z-A &nbsp;</option>\n            <option value=\"price-ascending\">&nbsp; Price, low to high &nbsp;</option>\n            <option value=\"price-descending\">&nbsp; Price, high to low &nbsp;</option>\n          </select>\n        </form>\n        <div className=\"products\">\n          {PRODUCTS}\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default Products"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/jppolanco/General_Assembly/sei/apollo/unit_3/products-authentication/client/src/components/SignUp.jsx\";\nimport React, { Component } from 'react';\nimport './SignUp.css';\nimport { signUp, signIn } from '../services/user';\n\nclass SignUp extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => this.setState({\n      [event.target.name]: event.target.value,\n      isError: false,\n      errorMsg: ''\n    });\n\n    this.onSignUp = event => {\n      event.preventDefault();\n      const {\n        history,\n        setUser\n      } = this.props;\n      signUp(this.state).then(() => signIn(this.state)).then(res => setUser(res.user)).then(() => history.push('/')).catch(error => {\n        console.error(error);\n        this.setState({\n          email: '',\n          password: '',\n          passwordConfirmation: '',\n          isError: true,\n          errorMsg: 'Sign Up Details Invalid'\n        });\n      });\n    };\n\n    this.renderError = () => {\n      const toggleForm = this.state.isError ? 'danger' : '';\n\n      if (this.state.isError) {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          type: \"submit\",\n          className: toggleForm,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }\n        }, this.state.errorMsg);\n      } else {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          type: \"submit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 20\n          }\n        }, \"Sign Up\");\n      }\n    };\n\n    this.state = {\n      username: '',\n      email: '',\n      password: '',\n      passwordConfirmation: '',\n      isError: false,\n      errorMsg: ''\n    };\n  }\n\n  render() {\n    const {\n      email,\n      username,\n      password,\n      passwordConfirmation\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSignUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      type: \"text\",\n      name: \"username\",\n      value: username,\n      placeholder: \"Enter username\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      type: \"email\",\n      name: \"email\",\n      value: email,\n      placeholder: \"Enter email\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      name: \"password\",\n      value: password,\n      type: \"password\",\n      placeholder: \"Password\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, \"Password Confirmation\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      name: \"passwordConfirmation\",\n      value: passwordConfirmation,\n      type: \"password\",\n      placeholder: \"Confirm Password\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }), this.renderError()));\n  }\n\n}\n\nexport default SignUp;","map":{"version":3,"sources":["/Users/jppolanco/General_Assembly/sei/apollo/unit_3/products-authentication/client/src/components/SignUp.jsx"],"names":["React","Component","signUp","signIn","SignUp","constructor","handleChange","event","setState","target","name","value","isError","errorMsg","onSignUp","preventDefault","history","setUser","props","state","then","res","user","push","catch","error","console","email","password","passwordConfirmation","renderError","toggleForm","username","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './SignUp.css'\nimport { signUp, signIn } from '../services/user'\n\nclass SignUp extends Component {\n    constructor() {\n        super()\n\n        this.state = {\n            username: '',\n            email: '',\n            password: '',\n            passwordConfirmation: '',\n            isError: false,\n            errorMsg: ''\n        }\n    }\n\n    handleChange = event =>\n        this.setState({\n            [event.target.name]: event.target.value,\n            isError: false,\n            errorMsg: ''\n        })\n\n    onSignUp = event => {\n        event.preventDefault()\n\n        const { history, setUser } = this.props\n\n        signUp(this.state)\n            .then(() => signIn(this.state))\n            .then(res => setUser(res.user))\n            .then(() => history.push('/'))\n            .catch(error => {\n                console.error(error)\n                this.setState({\n                    email: '',\n                    password: '',\n                    passwordConfirmation: '',\n                    isError: true,\n                    errorMsg: 'Sign Up Details Invalid'\n                })\n            })\n    }\n\n    renderError = () => {\n        const toggleForm = this.state.isError ? 'danger' : ''\n        if (this.state.isError) {\n            return (\n                <button type=\"submit\" className={toggleForm}>\n                    {this.state.errorMsg}\n                </button>\n            )\n        } else {\n            return <button type=\"submit\">Sign Up</button>\n        }\n    }\n\n    render() {\n        const { email, username, password, passwordConfirmation } = this.state\n\n        return (\n            <div className=\"form-container\">\n                <h3>Sign Up</h3>\n                <form onSubmit={this.onSignUp}>\n                    <label>Username</label>\n                    <input\n                        required\n                        type=\"text\"\n                        name=\"username\"\n                        value={username}\n                        placeholder=\"Enter username\"\n                        onChange={this.handleChange}\n                    />\n                    <label>Email address</label>\n                    <input\n                        required\n                        type=\"email\"\n                        name=\"email\"\n                        value={email}\n                        placeholder=\"Enter email\"\n                        onChange={this.handleChange}\n                    />\n                    <label>Password</label>\n                    <input\n                        required\n                        name=\"password\"\n                        value={password}\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        onChange={this.handleChange}\n                    />\n                    <label>Password Confirmation</label>\n                    <input\n                        required\n                        name=\"passwordConfirmation\"\n                        value={passwordConfirmation}\n                        type=\"password\"\n                        placeholder=\"Confirm Password\"\n                        onChange={this.handleChange}\n                    />\n                    {this.renderError()}\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default SignUp"]},"metadata":{},"sourceType":"module"}
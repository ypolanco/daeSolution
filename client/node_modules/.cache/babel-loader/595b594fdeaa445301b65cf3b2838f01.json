{"ast":null,"code":"var _jsxFileName = \"/Users/jppolanco/General_Assembly/sei/apollo/unit_3/products-authentication/client/src/components/SignIn.jsx\";\nimport React, { Component } from 'react';\nimport './SignIn.css';\nimport { signIn } from '../services/user';\n\nclass SignIn extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value,\n        isError: false,\n        errorMsg: ''\n      });\n    };\n\n    this.onSignIn = event => {\n      event.preventDefault();\n      const {\n        history,\n        setUser\n      } = this.props;\n      signIn(this.state).then(res => {\n        setUser(res.user);\n      }).then(() => history.push('/')).catch(error => {\n        console.error(error);\n        this.setState({\n          isError: true,\n          errorMsg: 'Invalid Credentials',\n          username: '',\n          password: ''\n        });\n      });\n    };\n\n    this.renderError = () => {\n      const toggleForm = this.state.isError ? 'danger' : '';\n\n      if (this.state.isError) {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          type: \"submit\",\n          className: toggleForm,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }\n        }, this.state.errorMsg);\n      } else {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          type: \"submit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 20\n          }\n        }, \"Sign In\");\n      }\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      isError: false,\n      errorMsg: ''\n    };\n  }\n\n  render() {\n    const {\n      username,\n      password\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, \"Sign In\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSignIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      type: \"text\",\n      name: \"username\",\n      value: username,\n      placeholder: \"Enter Username\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      name: \"password\",\n      value: password,\n      type: \"password\",\n      placeholder: \"Password\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }), this.renderError()));\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["/Users/jppolanco/General_Assembly/sei/apollo/unit_3/products-authentication/client/src/components/SignIn.jsx"],"names":["React","Component","signIn","SignIn","constructor","handleChange","event","setState","target","name","value","isError","errorMsg","onSignIn","preventDefault","history","setUser","props","state","then","res","user","push","catch","error","console","username","password","renderError","toggleForm","render"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react'\nimport './SignIn.css'\nimport { signIn } from '../services/user'\n\nclass SignIn extends Component {\n    constructor() {\n        super()\n\n        this.state = {\n            username: '',\n            password: '',\n            isError: false,\n            errorMsg: ''\n        }\n    }\n\n    handleChange = event => {\n        this.setState({\n            [event.target.name]: event.target.value,\n            isError: false,\n            errorMsg: ''\n        })\n    }\n\n    onSignIn = event => {\n        event.preventDefault()\n\n        const { history, setUser } = this.props\n\n        signIn(this.state)\n            .then(res => {\n                setUser(res.user)\n            })\n            .then(() => history.push('/'))\n            .catch(error => {\n                console.error(error)\n                this.setState({\n                    isError: true,\n                    errorMsg: 'Invalid Credentials',\n                    username: '',\n                    password: ''\n                })\n            })\n    }\n\n    renderError = () => {\n        const toggleForm = this.state.isError ? 'danger' : ''\n        if (this.state.isError) {\n            return (\n                <button type=\"submit\" className={toggleForm}>\n                    {this.state.errorMsg}\n                </button>\n            )\n        } else {\n            return <button type=\"submit\">Sign In</button>\n        }\n    }\n\n    render() {\n        const { username, password } = this.state\n\n        return (\n            <div className=\"form-container\">\n                <h3>Sign In</h3>\n                <form onSubmit={this.onSignIn}>\n                    <label>Username</label>\n                    <input\n                        required\n                        type=\"text\"\n                        name=\"username\"\n                        value={username}\n                        placeholder=\"Enter Username\"\n                        onChange={this.handleChange}\n                    />\n                    <label>Password</label>\n                    <input\n                        required\n                        name=\"password\"\n                        value={password}\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        onChange={this.handleChange}\n                    />\n                    {this.renderError()}\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default SignIn"]},"metadata":{},"sourceType":"module"}
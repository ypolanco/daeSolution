{"ast":null,"code":"import axios from 'axios';\n\nconst getToken = () => {\n  return new Promise(resolve => {\n    resolve(`Bearer ${localStorage.getItem('token') || null}`);\n  });\n};\n\nlet apiUrl;\nconst apiUrls = {\n  production: 'https://sei-products-api.herokuapp.com/api',\n  development: 'http://localhost:3000/api'\n};\n\nif (window.location.hostname === 'localhost') {\n  apiUrl = apiUrls.development;\n} else {\n  apiUrl = apiUrls.production;\n}\n\nconst api = axios.create({\n  baseURL: apiUrl\n});\napi.interceptors.request.use(async function (options) {\n  // getToken is part of axios. \n  options.headers['Authorization'] = await getToken();\n  return options;\n}, function (error) {\n  console.log('Request error: ', error);\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"sources":["/Users/jppolanco/General_Assembly/sei/apollo/unit_3/products-authentication/client/src/services/apiConfig.js"],"names":["axios","getToken","Promise","resolve","localStorage","getItem","apiUrl","apiUrls","production","development","window","location","hostname","api","create","baseURL","interceptors","request","use","options","headers","error","console","log","reject"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AACnB,SAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAI;AAC1BA,IAAAA,OAAO,CAAE,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,IAAK,EAAjD,CAAP;AACH,GAFM,CAAP;AAGH,CAJD;;AAMA,IAAIC,MAAJ;AAEA,MAAMC,OAAO,GAAG;AACZC,EAAAA,UAAU,EAAE,4CADA;AAEZC,EAAAA,WAAW,EAAE;AAFD,CAAhB;;AAKA,IAAIC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6B,WAAjC,EAA8C;AAC1CN,EAAAA,MAAM,GAAGC,OAAO,CAACE,WAAjB;AACH,CAFD,MAEO;AACHH,EAAAA,MAAM,GAAGC,OAAO,CAACC,UAAjB;AACH;;AAED,MAAMK,GAAG,GAAGb,KAAK,CAACc,MAAN,CAAa;AACrBC,EAAAA,OAAO,EAAET;AADY,CAAb,CAAZ;AAIAO,GAAG,CAACG,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CAA6B,gBAAgBC,OAAhB,EAAyB;AACpD;AACEA,EAAAA,OAAO,CAACC,OAAR,CAAgB,eAAhB,IAAmC,MAAMnB,QAAQ,EAAjD;AACA,SAAOkB,OAAP;AACH,CAJD,EAIG,UAAUE,KAAV,EAAiB;AAChBC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,KAA/B;AACA,SAAOnB,OAAO,CAACsB,MAAR,CAAeH,KAAf,CAAP;AACH,CAPD;AASA,eAAeR,GAAf","sourcesContent":["import axios from 'axios'\n\nconst getToken = () => {\n    return new Promise(resolve => {\n        resolve(`Bearer ${localStorage.getItem('token') || null}`)\n    })\n}\n\nlet apiUrl\n\nconst apiUrls = {\n    production: 'https://sei-products-api.herokuapp.com/api',\n    development: 'http://localhost:3000/api'\n}\n\nif (window.location.hostname === 'localhost') {\n    apiUrl = apiUrls.development\n} else {\n    apiUrl = apiUrls.production\n}\n\nconst api = axios.create({\n    baseURL: apiUrl\n})\n\napi.interceptors.request.use(async function (options) {\n  // getToken is part of axios. \n    options.headers['Authorization'] = await getToken()\n    return options\n}, function (error) {\n    console.log('Request error: ', error)\n    return Promise.reject(error)\n});\n\nexport default api"]},"metadata":{},"sourceType":"module"}